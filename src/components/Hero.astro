---
import SocialLinks from './SocialLinks.astro';

const base = import.meta.env.BASE_URL;
---

<header role="banner" class="hero-section relative min-h-screen flex items-center pt-16 pb-24">
  <!-- Background Gradient -->
  <div class="absolute inset-0 bg-gradient-to-br from-background via-background to-surface/30 -z-10" />
  
  <!-- Accent Glow -->
  <div class="absolute top-1/2 right-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl transform -translate-y-1/2 -z-10" />

  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 xl:gap-32 items-center">
      <!-- Left: Text Content -->
      <div class="order-2 lg:order-1 text-center lg:text-left">
        <!-- Name (H1 - Primary Identity) -->
        <h1 class="hero-name mb-3 hero-fade" data-delay="0.1">
          <span class="block text-accent">Muhammad</span>
          <span class="block text-white">Muneeb</span>
          <span class="block text-accent">Ur Rehman</span>
        </h1>

        <!-- Role (H2 - White, strong contrast) -->
        <h2 class="hero-role mb-6 hero-fade" data-delay="0.2">
          Flutter Mobile App Developer
        </h2>

        <!-- Single Supporting Line -->
        <p class="hero-tagline mb-10 hero-fade" data-delay="0.3">
          Building reliable Flutter applications using BLoC, Clean Architecture, and Node.js/Express backends.
        </p>

        <!-- Metadata Row (All Screen Sizes) -->
        <div class="hero-meta flex flex-wrap items-center justify-center lg:justify-start gap-x-3 gap-y-2 mb-8 hero-fade" data-delay="0.4">
          <span class="meta-badge">
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            Pakistan
          </span>
          <span class="meta-separator" aria-hidden="true">·</span>
          <span class="meta-badge">
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
            </svg>
            Remote
          </span>
          <span class="meta-separator" aria-hidden="true">·</span>
          <span class="meta-badge">
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
            </svg>
            SE @ COMSATS
          </span>
        </div>

        <!-- Availability Status -->
        <div class="flex justify-center lg:justify-start mb-8 hero-fade" data-delay="0.45">
          <span class="status-badge">
            <span class="status-dot" aria-hidden="true"></span>
            Open to Internships, Junior Roles & Freelance
          </span>
        </div>

        <!-- CTA Buttons -->
        <div class="flex flex-wrap items-center justify-center lg:justify-start gap-4 mb-8 hero-fade" data-delay="0.5">
          <a 
            href={`${base}projects/`}
            class="hero-btn hero-btn--primary"
          >
            <span>See Apps & Code</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
          <a 
            href={`${base}assets/cv.pdf`}
            target="_blank"
            rel="noopener noreferrer"
            class="hero-btn hero-btn--secondary"
            aria-label="Download Muhammad Muneeb CV PDF"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            <span>Download CV</span>
          </a>
        </div>

        <!-- Social Links -->
        <div class="hero-fade flex justify-center lg:justify-start" data-delay="0.6">
          <SocialLinks size="lg" />
        </div>
      </div>

      <!-- Right: Profile Image -->
      <div class="order-1 lg:order-2 flex justify-center lg:justify-end">
        <div class="relative hero-image" data-delay="0.3">
          <!-- Radial Glow Effect -->
          <div class="hero-avatar-glow" aria-hidden="true" />
          
          <!-- Image Container -->
          <div class="hero-avatar-container">
            <img 
              src={`${base}assets/images/profile/profile.png`}
              alt="Photo of Muhammad Muneeb Ur Rehman"
              class="w-full h-full object-cover"
              width="384"
              height="384"
              loading="lazy"
              decoding="async"
            />
          </div>

          <!-- Decorative Ring -->
          <div class="hero-avatar-ring" aria-hidden="true" />
        </div>
      </div>
    </div>
  </div>
</header>

<style>
  /* ===========================================
     COLOR HIERARCHY
     Name: Teal/Cyan gradient (brand accent)
     Role: White (strong contrast)
     Tagline: Muted neutral
     =========================================== */
  
  /* Name - H1: Teal accent, largest */
  .hero-name {
    font-size: clamp(2.75rem, 6vw, 5rem);
    font-weight: 700;
    line-height: 1.05;
    letter-spacing: -0.025em;
    color: #3FA2A9;
  }

  /* Role - H2: Pure white, prominent */
  .hero-role {
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 500;
    line-height: 1.3;
    letter-spacing: -0.01em;
    color: #FFFFFF;
  }

  /* Tagline - Muted, not dominant */
  .hero-tagline {
    font-size: 1.125rem;
    line-height: 1.6;
    color: #9CA3AF; /* Muted gray - readable but not dominant */
    max-width: 28rem;
    margin-left: auto;
    margin-right: auto;
  }

  @media (min-width: 1024px) {
    .hero-tagline {
      margin-left: 0;
      margin-right: 0;
    }
  }

  /* ===========================================
     MOBILE STATUS BADGE
     =========================================== */
  
  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.375rem 0.875rem;
    font-size: 0.8125rem; /* 13px */
    font-weight: 500;
    color: #9CA3AF;
    background-color: rgba(35, 35, 37, 0.8);
    border: 1px solid rgba(63, 162, 169, 0.2);
    border-radius: 9999px;
    white-space: nowrap;
  }

  .status-dot {
    width: 0.5rem;
    height: 0.5rem;
    background-color: #00FF44;
    border-radius: 9999px;
    animation: pulse-dot 2s ease-in-out infinite;
  }

  @keyframes pulse-dot {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* ===========================================
     METADATA BADGES
     =========================================== */
  
  .hero-meta {
    font-size: 0.875rem;
  }

  .meta-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    color: #9CA3AF;
  }

  .text-meta {
    color: #9CA3AF;
  }

  .meta-badge svg {
    color: var(--color-accent);
    flex-shrink: 0;
  }

  .meta-badge--highlight svg {
    color: var(--color-online);
  }

  .meta-separator {
    color: #4B5563;
    font-weight: 600;
  }

  /* ===========================================
     BUTTONS
     =========================================== */
  
  .hero-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    border-radius: 0.5rem;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
  }

  .hero-btn:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  .hero-btn--primary {
    background-color: #21A7A3;
    color: var(--color-background);
  }

  .hero-btn--primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(33, 167, 163, 0.12);
    background-color: #1d9692;
  }

  .hero-btn--secondary {
    background-color: var(--color-button);
    color: var(--color-primary);
    border: 1px solid var(--color-surface);
  }

  .hero-btn--secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
    background-color: var(--color-surface);
  }

  /* ===========================================
     AVATAR
     =========================================== */
  
  .hero-avatar-glow {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle, var(--color-accent-glow) 0%, transparent 70%);
    border-radius: 9999px;
    filter: blur(48px);
    transform: scale(1.2);
    animation: pulse 4s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
  }

  .hero-avatar-container {
    position: relative;
    width: 16rem;
    height: 16rem;
    border-radius: 9999px;
    overflow: hidden;
    border: 3px solid var(--color-surface);
    box-shadow: 
      0 0 60px var(--color-accent-glow),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  }

  @media (min-width: 768px) {
    .hero-avatar-container {
      width: 20rem;
      height: 20rem;
    }
  }

  @media (min-width: 1024px) {
    .hero-avatar-container {
      width: 24rem;
      height: 24rem;
    }
  }

  .hero-avatar-ring {
    position: absolute;
    inset: -1rem;
    border: 2px solid rgba(63, 162, 169, 0.2);
    border-radius: 9999px;
  }
</style>

<script>
  import { initHeroAnimations } from './HeroAnimation.js';
  
  document.addEventListener('DOMContentLoaded', () => {
    initHeroAnimations();
  });
</script>
