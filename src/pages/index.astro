---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import SectionHeader from '../components/SectionHeader.astro';
import ProjectCard from '../components/ProjectCard.astro';
import { featuredProjects } from '../data/projects';
import { skills } from '../data/skills';
import { getSkillIcon, getCategoryIcon } from '../data/skillIcons';
---

<BaseLayout>
  <Navbar />
  
  <main>
    <!-- Hero Section -->
    <Hero />

    <!-- Featured Projects Section -->
    <section class="py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
      <SectionHeader 
        title="Featured Projects" 
        subtitle="A selection of my recent work in mobile app development"
      />

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 fade-in">
        {featuredProjects.map((project) => (
          <ProjectCard {...project} />
        ))}
      </div>

      <div class="text-center mt-12">
        <a 
          href="/projects" 
          class="inline-flex items-center gap-2 px-6 py-3 bg-surface text-primary font-medium rounded-lg hover:bg-button transition-colors duration-300"
        >
          <span>View All Projects</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>
    </section>

    <!-- Skills Section -->
    <section class="py-24 px-4 sm:px-6 lg:px-8 bg-surface/30">
      <div class="max-w-7xl mx-auto">
        <SectionHeader 
          title="Skills & Expertise" 
          subtitle="Specialized in mobile app development with Flutter and clean architecture"
        />

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 fade-in">
          {skills.map((skillGroup) => (
            <div class="p-6 bg-background rounded-2xl border border-surface hover:border-accent/30 transition-all duration-300 group">
              <h3 class="text-lg font-semibold text-accent mb-4 flex items-center gap-3">
                <span class="w-8 h-8 flex items-center justify-center bg-accent/10 rounded-lg text-accent" set:html={getCategoryIcon(skillGroup.category)} />
                {skillGroup.category}
              </h3>
              <div class="flex flex-wrap gap-2">
                {skillGroup.items.map((item) => (
                  <span class="inline-flex items-center gap-1.5 px-3 py-1.5 text-sm bg-surface text-secondary rounded-lg border border-surface group-hover:border-accent/20 transition-colors">
                    <span class="w-4 h-4 opacity-60" set:html={getSkillIcon(item)} />
                    {item}
                  </span>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-24 px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto text-center fade-in">
        <h2 class="heading-lg text-primary mb-6">
          Let's Work Together
        </h2>
        <p class="body-lg text-secondary mb-8 max-w-2xl mx-auto">
          I'm always interested in hearing about new projects and opportunities. 
          Whether you have a question or just want to say hi, feel free to reach out!
        </p>
        <a 
          href="/contact" 
          class="inline-flex items-center gap-2 px-8 py-4 bg-accent text-background font-semibold rounded-lg hover:bg-accent/90 transition-all duration-300 hover-lift"
        >
          <span>Get in Touch</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>
    </section>
  </main>

  <Footer />

  <script>
    import { initScrollAnimations } from '../components/HeroAnimation.js';
    document.addEventListener('DOMContentLoaded', initScrollAnimations);
  </script>
</BaseLayout>
